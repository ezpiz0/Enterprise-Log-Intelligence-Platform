@echo off
chcp 65001 >nul
echo.
echo ============================================================
echo üöÄ –ó–ê–ü–£–°–ö –°–ï–†–í–ï–†–ê –î–õ–Ø –ü–£–ë–õ–ò–ß–ù–û–ì–û –î–û–°–¢–£–ü–ê
echo ============================================================
echo.
echo üìã –≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –ø–æ–º–æ–∂–µ—Ç –≤–∞–º:
echo    1. –ó–∞–ø—É—Å—Ç–∏—Ç—å FastAPI —Å–µ—Ä–≤–µ—Ä
echo    2. –ü–æ–ª—É—á–∏—Ç—å –ø—É–±–ª–∏—á–Ω—É—é —Å—Å—ã–ª–∫—É —á–µ—Ä–µ–∑ ngrok
echo    3. –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å—Å—ã–ª–∫–æ–π —Å –¥—Ä—É–∑—å—è–º–∏
echo.
echo ============================================================
echo.

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Python
python --version >nul 2>&1
if errorlevel 1 (
    echo ‚ùå Python –Ω–µ –Ω–∞–π–¥–µ–Ω! –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Python 3.10+
    pause
    exit /b 1
)

echo ‚úÖ Python –Ω–∞–π–¥–µ–Ω
echo.

REM –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ ngrok
where ngrok >nul 2>&1
if errorlevel 1 (
    echo.
    echo ‚ö†Ô∏è  ngrok –ù–ï –ù–ê–ô–î–ï–ù –≤ PATH
    echo.
    echo üì• –ù–ï–û–ë–•–û–î–ò–ú–û –£–°–¢–ê–ù–û–í–ò–¢–¨ ngrok:
    echo.
    echo    1. –°–∫–∞—á–∞–π—Ç–µ: https://ngrok.com/download
    echo    2. –†–∞—Å–ø–∞–∫—É–π—Ç–µ ngrok.exe –≤ –ø–∞–ø–∫—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, C:\ngrok)
    echo    3. –î–æ–±–∞–≤—å—Ç–µ –ø–∞–ø–∫—É –≤ PATH –∏–ª–∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∏–∑ —ç—Ç–æ–π –ø–∞–ø–∫–∏
    echo.
    echo üí° –ò–ª–∏ —É–∫–∞–∂–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ ngrok.exe:
    set /p NGROK_PATH="–ü—É—Ç—å –∫ ngrok.exe (–∏–ª–∏ Enter –¥–ª—è –≤—ã—Ö–æ–¥–∞): "
    if "%NGROK_PATH%"=="" (
        echo.
        echo ‚ùå –í—ã—Ö–æ–¥. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ ngrok –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞.
        pause
        exit /b 1
    )
) else (
    set NGROK_PATH=ngrok
    echo ‚úÖ ngrok –Ω–∞–π–¥–µ–Ω
)

echo.
echo ============================================================
echo üîë –®–ê–ì–ò –î–õ–Ø –ù–ê–°–¢–†–û–ô–ö–ò:
echo ============================================================
echo.
echo 1Ô∏è‚É£  –î–û–ë–ê–í–¨–¢–ï AUTHTOKEN (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —Å–¥–µ–ª–∞–ª–∏):
echo.
echo    %NGROK_PATH% config add-authtoken 33xJiXbggbf0VkJQYYS0Q1Rt7IF_4N9bEXBDXbBDvzMjvEPLy
echo.
echo 2Ô∏è‚É£  –ó–ê–ü–£–°–¢–ò–¢–ï –°–ï–†–í–ï–† (–≤ —ç—Ç–æ–º –æ–∫–Ω–µ):
echo.
echo    python main.py
echo.
echo 3Ô∏è‚É£  –ó–ê–ü–£–°–¢–ò–¢–ï NGROK (–≤ –ù–û–í–û–ú –æ–∫–Ω–µ):
echo.
echo    %NGROK_PATH% http 8001
echo.
echo 4Ô∏è‚É£  –°–ö–û–ü–ò–†–£–ô–¢–ï –ü–£–ë–õ–ò–ß–ù–´–ô URL –∏–∑ –≤—ã–≤–æ–¥–∞ ngrok:
echo.
echo    Forwarding: https://abc123xyz.ngrok-free.app
echo.
echo 5Ô∏è‚É£  –û–¢–ü–†–ê–í–¨–¢–ï –°–°–´–õ–ö–£ –î–†–£–ó–¨–Ø–ú! üéâ
echo.
echo ============================================================
echo.

set /p START="–ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–µ—Ä —Å–µ–π—á–∞—Å? (Y/N): "
if /i "%START%"=="Y" (
    echo.
    echo üöÄ –ó–∞–ø—É—Å–∫–∞—é —Å–µ—Ä–≤–µ—Ä –Ω–∞ http://localhost:8001...
    echo.
    echo ‚ö†Ô∏è  –ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ –ù–û–í–û–ï –æ–∫–Ω–æ PowerShell –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
    echo    %NGROK_PATH% http 8001
    echo.
    echo ============================================================
    echo.
    python main.py
) else (
    echo.
    echo ‚ÑπÔ∏è  –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
    echo.
    echo    –¢–µ—Ä–º–∏–Ω–∞–ª 1: python main.py
    echo    –¢–µ—Ä–º–∏–Ω–∞–ª 2: %NGROK_PATH% http 8001
    echo.
    pause
)





